<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.4c404821bb739f1ec46d.css">code[class*=language-],pre[class*=language-]{text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono,monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#363636}:not(pre)>code[class*=language-]{white-space:normal;border-radius:.2em;padding:.1em}pre[class*=language-]{overflow:auto;position:relative;margin:.5em 0;padding:1.25em 1em}.language-css>code,.language-sass>code,.language-scss>code{color:#fd9170}[class*=language-] .namespace{opacity:.7}.token.atrule{color:#c792ea}.token.attr-name{color:#ffcb6b}.token.attr-value,.token.attribute{color:#c3e88d}.token.boolean{color:#c792ea}.token.builtin{color:#ffcb6b}.token.cdata,.token.char{color:#80cbc4}.token.class{color:#ffcb6b}.token.class-name,.token.color{color:#f2ff00}.token.comment{color:#546e7a}.token.constant{color:#c792ea}.token.deleted{color:#f07178}.token.doctype{color:#546e7a}.token.entity{color:#f07178}.token.function{color:#c792ea}.token.hexcode{color:#f2ff00}.token.id,.token.important{color:#c792ea;font-weight:700}.token.inserted{color:#80cbc4}.token.keyword{color:#c792ea;font-style:italic}.token.number{color:#fd9170}.token.operator{color:#89ddff}.token.prolog{color:#546e7a}.token.property{color:#80cbc4}.token.pseudo-class,.token.pseudo-element{color:#c3e88d}.token.punctuation{color:#89ddff}.token.regex{color:#f2ff00}.token.selector{color:#f07178}.token.string{color:#c3e88d}.token.symbol{color:#c792ea}.token.tag,.token.unit{color:#f07178}.token.url{color:#fd9170}.token.variable{color:#f07178}.border-responsive{border-bottom:1px solid hsla(0,0%,100%,.3)}@media (min-width:768px){.border-responsive{border-bottom:none;border-right:1px solid hsla(0,0%,100%,.3)}}section{padding-top:1rem}pre{border-radius:15px;font-size:.9rem!important}blockquote{font-style:italic;padding-left:1rem;border-left:3px solid #e31b6d;opacity:.8}article header h1{color:#fff}section h1,section h2,section h3,section h4,section h5,section h6{margin-top:3rem!important;margin-bottom:1.5rem!important;color:#fff}</style><meta name="generator" content="Gatsby 2.23.23"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Trainto.log()" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#e31b6d"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=9074198e5278012ba75f6b2cd64df7fa"/><title data-react-helmet="true">Nginx - Configure Nginx as reverse proxy for Nodejs(Express) | Trainto.log()</title><link data-react-helmet="true" rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Noto+Sans&amp;display=swap" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="Recently I deployed a Node.js(Express) web application on AWS, and I used Nginx as its reverse proxy. So I want to take notes. Why do we need reverse proxy? SSL…"/><meta data-react-helmet="true" property="og:title" content="Nginx - Configure Nginx as reverse proxy for Nodejs(Express)"/><meta data-react-helmet="true" property="og:description" content="Recently I deployed a Node.js(Express) web application on AWS, and I used Nginx as its reverse proxy. So I want to take notes. Why do we need reverse proxy? SSL…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Hakjoon Sim"/><meta data-react-helmet="true" name="twitter:title" content="Nginx - Configure Nginx as reverse proxy for Nodejs(Express)"/><meta data-react-helmet="true" name="twitter:description" content="Recently I deployed a Node.js(Express) web application on AWS, and I used Nginx as its reverse proxy. So I want to take notes. Why do we need reverse proxy? SSL…"/><style data-react-helmet="true" type="text/css">
            body {
              background-color: #282c35;
              color: rgba(255, 255, 255, 0.88);
              font-family: 'Noto Sans', sans-serif;
            }

            a, a:hover {
              color: #e31b6d;
            }

            hr {
              background-color: rgba(255, 255, 255, 0.3);
            }
          </style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><script data-ad-client="ca-pub-6978978720477594" async="" type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link as="script" rel="preload" href="/webpack-runtime-f20445e34dc26cab1fc4.js"/><link as="script" rel="preload" href="/framework-5fc6169171e885c3b522.js"/><link as="script" rel="preload" href="/app-d367110d0bccd7e4734e.js"/><link as="script" rel="preload" href="/styles-c2fe8482057191dca484.js"/><link as="script" rel="preload" href="/commons-5650f931b83acdae3c7a.js"/><link as="script" rel="preload" href="/1741fef513eed36a9117166ed65840855fa4f054-0b7035362f98cda5b260.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-6c3d6ca8135df7e285a2.js"/><link as="fetch" rel="preload" href="/page-data/nginx-nodejs/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="d-none d-xl-block fixed-top" style="top:100px;width:160px;height:600px"><span class="position-relative"><ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-6978978720477594" data-ad-slot="8329899743"></ins></span></div><div class="container py-3"><main><div class="row justify-content-center"><header class="col-12 col-md-8"><h3><a style="text-decoration:none" href="/">Trainto.log()</a></h3></header><div class="col-12 col-md-8 mt-3"><article><header><h1>Nginx - Configure Nginx as reverse proxy for Nodejs(Express)</h1><p>November 08, 2019</p></header><section><p>Recently I deployed a Node.js(Express) web application on AWS, and I used Nginx as its reverse proxy. So I want to take notes.</p>
<h2>Why do we need reverse proxy?</h2>
<h3>SSL</h3>
<p>SSL might be the most popular reason, but in my case, I’m using AWS’s load balancer and SSL is being handled by it. So SSL is not the reason I use reverse proxy.</p>
<h3>gzip</h3>
<p>gzip compression is also popular feature which you should offload from the application to a reverse proxy. You should make your application server only focus on application logic for performance reasons.</p>
<h3>static asset</h3>
<p>The best way is to use nginx server to serve you static file and let you node.js server handle the dynamic content. That would be the most optimized solution to reduce the amount of requests on your node.js server that is slower to server static files than nginx. and the configuration to achieve that is very simple.</p>
<h2>nginx.conf</h2>
<p>Once you install Nginx, you can find it under /etc/nginx, and there will be ‘nginx.conf’ file which is the default configuration file.</p>
<p>For the nginx.conf configurationf file, I changed just two things. First, turning off server tokens which might be security issue, and turning on gzip compression.</p>
<div class="gatsby-highlight" data-language="nginx"><pre class="language-nginx"><code class="language-nginx"><span class="token keyword">http</span> <span class="token punctuation">{</span>
    <span class="token comment">##</span>
    <span class="token comment"># Basic Settings</span>
    <span class="token comment">##</span>

    <span class="token keyword">sendfile</span> on<span class="token punctuation">;</span>
    <span class="token keyword">tcp_nopush</span> on<span class="token punctuation">;</span>
    <span class="token keyword">tcp_nodelay</span> on<span class="token punctuation">;</span>
    <span class="token keyword">keepalive_timeout</span> <span class="token number">65</span><span class="token punctuation">;</span>
    <span class="token keyword">types_hash_max_size</span> <span class="token number">2048</span><span class="token punctuation">;</span>
    <span class="token keyword">server_tokens</span> off<span class="token punctuation">;</span>

    <span class="token comment"># server_names_hash_bucket_size 64;</span>
    <span class="token comment"># server_name_in_redirect off;</span>

    <span class="token keyword">include</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>mime<span class="token punctuation">.</span><span class="token keyword">types</span><span class="token punctuation">;</span>
    <span class="token keyword">default_type</span> application<span class="token operator">/</span>octet<span class="token operator">-</span>stream<span class="token punctuation">;</span>

    <span class="token comment">##</span>
    <span class="token comment"># SSL Settings</span>
    <span class="token comment">##</span>

    <span class="token keyword">ssl_protocols</span> TLSv1 TLSv1<span class="token punctuation">.</span><span class="token number">1</span> TLSv1<span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment"># Dropping SSLv3, ref: POODLE</span>
    <span class="token keyword">ssl_prefer_server_ciphers</span> on<span class="token punctuation">;</span>

    <span class="token comment">##</span>
    <span class="token comment"># Logging Settings</span>
    <span class="token comment">##</span>

    <span class="token keyword">access_log</span> <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>access<span class="token punctuation">.</span>log<span class="token punctuation">;</span>
    <span class="token keyword">error_log</span> <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>error<span class="token punctuation">.</span>log<span class="token punctuation">;</span>

    <span class="token comment">##</span>
    <span class="token comment"># Gzip Settings</span>
    <span class="token comment">##</span>

    <span class="token keyword">gzip</span> on<span class="token punctuation">;</span>

    <span class="token keyword">gzip_vary</span> on<span class="token punctuation">;</span>
    <span class="token keyword">gzip_proxied</span> any<span class="token punctuation">;</span>
    <span class="token keyword">gzip_comp_level</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword">gzip_buffers</span> <span class="token number">16</span> <span class="token number">8</span>k<span class="token punctuation">;</span>
    <span class="token keyword">gzip_http_version</span> <span class="token number">1.1</span><span class="token punctuation">;</span>
    <span class="token keyword">gzip_types</span> text<span class="token operator">/</span>plain text<span class="token operator">/</span>css application<span class="token operator">/</span>json application<span class="token operator">/</span>javascript text<span class="token operator">/</span>xml application<span class="token operator">/</span>xml application<span class="token operator">/</span>xml<span class="token operator">+</span>rss text<span class="token operator">/</span>javascript<span class="token punctuation">;</span>

    <span class="token comment">##</span>
    <span class="token comment"># Virtual Host Configs</span>
    <span class="token comment">##</span>

    <span class="token keyword">include</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">.</span>conf<span class="token punctuation">;</span>
    <span class="token keyword">include</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>sites<span class="token operator">-</span>enabled<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To turn off the server tokens(mainly to hide nginx version) and turn off gzip compression, I just uncommented them from default configuration file.</p>
<h2>Your appplication specific configuration</h2>
<p>You need to create a configuration file under /etc/nginx/sites-available/ to set your application specific configuration. The file name can be whatever you like.</p>
<div class="gatsby-highlight" data-language="nginx"><pre class="language-nginx"><code class="language-nginx"><span class="token keyword">server</span> <span class="token punctuation">{</span>
    <span class="token keyword">listen</span> <span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token keyword">server_name</span> your<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>com<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$http_x_forwarded_proto</span> <span class="token operator">=</span> <span class="token string">"http"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">301</span> <span class="token keyword">https</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token variable">$server_name</span><span class="token variable">$request_uri</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">location</span> <span class="token operator">/</span>favicon<span class="token punctuation">.</span>ico <span class="token punctuation">{</span>
        <span class="token keyword">alias</span> <span class="token operator">/</span>your<span class="token operator">/</span>favicon<span class="token operator">/</span><span class="token keyword">location</span><span class="token operator">/</span>favicon<span class="token punctuation">.</span>ico<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">location</span> <span class="token operator">/</span>robots<span class="token punctuation">.</span>txt <span class="token punctuation">{</span>
        <span class="token keyword">alias</span> <span class="token operator">/</span>your<span class="token operator">/</span>robots<span class="token operator">/</span>locaion<span class="token operator">/</span>robots<span class="token punctuation">.</span>txt<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">location</span> <span class="token operator">/</span>static<span class="token operator">/</span> <span class="token punctuation">{</span>
        <span class="token keyword">alias</span> <span class="token operator">/</span>your<span class="token operator">/</span>static<span class="token operator">/</span>asset<span class="token operator">/</span><span class="token keyword">location</span><span class="token operator">/</span><span class="token punctuation">;</span>
        <span class="token keyword">expires</span> <span class="token number">30</span>d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>
        <span class="token keyword">proxy_pass</span> <span class="token keyword">http</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">3000</span><span class="token punctuation">;</span>
        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token keyword">client_max_body_size</span> <span class="token number">20</span>M<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Specify port and domain first.</p>
<br />
<div class="gatsby-highlight" data-language="nginx"><pre class="language-nginx"><code class="language-nginx"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$http_x_forwarded_proto</span> <span class="token operator">=</span> <span class="token string">"http"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">301</span> <span class="token keyword">https</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token variable">$server_name</span><span class="token variable">$request_uri</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>If the request is with http, this configuration redirects it to https permanantly(301).</p>
<br />
<div class="gatsby-highlight" data-language="nginx"><pre class="language-nginx"><code class="language-nginx"><span class="token keyword">location</span> <span class="token operator">/</span>favicon<span class="token punctuation">.</span>ico <span class="token punctuation">{</span>
    <span class="token keyword">alias</span> <span class="token operator">/</span>your<span class="token operator">/</span>favicon<span class="token operator">/</span><span class="token keyword">location</span>
<span class="token punctuation">}</span>

<span class="token keyword">location</span> <span class="token operator">/</span>robots<span class="token punctuation">.</span>txt <span class="token punctuation">{</span>
    <span class="token keyword">alias</span> <span class="token operator">/</span>your<span class="token operator">/</span>robots<span class="token operator">/</span><span class="token keyword">location</span>
<span class="token punctuation">}</span>

<span class="token keyword">location</span> <span class="token operator">/</span>static<span class="token operator">/</span> <span class="token punctuation">{</span>
    <span class="token keyword">alias</span> <span class="token operator">/</span>your<span class="token operator">/</span>static<span class="token operator">/</span>asset<span class="token operator">/</span><span class="token keyword">location</span>
    <span class="token keyword">expires</span> <span class="token number">30</span>d<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>There are configuratinos for serving static files. If you specify <strong><em>expires</em></strong> like 30d, the static files will have following header <em>cache-control: max-age=2592000</em>, and will be cached in the browser efficiently.</p>
<br />
<div class="gatsby-highlight" data-language="nginx"><pre class="language-nginx"><code class="language-nginx"><span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>
    <span class="token keyword">proxy_pass</span> <span class="token keyword">http</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">3000</span><span class="token punctuation">;</span>
    <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
    <span class="token keyword">client_max_body_size</span> <span class="token number">20</span>M<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This configuration will forward requests from clients to your node.js server. <em>prox</em>set<em>header</em> for displaying actual remote ip address when logging, and <em>client</em>max<em>body</em>size_ is literally max body size. In my case, I set it to 20 Megabyte.</p>
<p>Now you need to make symbolic link to this congifuration file from /etc/nginx/sites-enabled and enter the command following to restart Nginx.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">service</span> nginx restart</code></pre></div></section><br/><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6978978720477594" data-ad-slot="4364348128" data-ad-format="auto" data-full-width-responsive="true"></ins><hr class="my-4"/><footer><div><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDAQb/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAanfptN1PndBawj/AP/EABkQAAIDAQAAAAAAAAAAAAAAAAECAAMSEf/aAAgBAQABBQK7XAtlSywDCZM6IWJZiddLT//EABURAQEAAAAAAAAAAAAAAAAAACBB/9oACAEDAQE/AYP/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAABAwQDAAAAAAAAAAAAAAABAAIREBIhQTFhcf/aAAgBAQAGPwINbtXF0jYpBOV7QHtRPCyv/8QAGxABAAIDAQEAAAAAAAAAAAAAAQAhETFBEFH/2gAIAQEAAT8hXQ9/IIs/hiw4QN2oXLdEQzl6m9MaRuNUqf/aAAwDAQACAAMAAAAQJy9//8QAFxEBAQEBAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxDJ01Vf/8QAGBEBAQADAAAAAAAAAAAAAAAAAQAQETH/2gAIAQIBAT8QF3g7AX//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhQTFRsfD/2gAIAQEAAT8Q8Sqi+AuGBMCj1lLm/jA0aGDHeeyhEdr+MRQg3ric1Arbsn1k/kNtmRgpCvM//9k=" alt="Hakjoon Sim" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/11d9aa0a042029a130f7ad2d42e2f7d0/99438/profile-pic.jpg 1x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/aba1d/profile-pic.jpg 1.5x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/11d9aa0a042029a130f7ad2d42e2f7d0/99438/profile-pic.jpg 1x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/aba1d/profile-pic.jpg 1.5x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/b315d/profile-pic.jpg 2x" src="/static/11d9aa0a042029a130f7ad2d42e2f7d0/99438/profile-pic.jpg" alt="Hakjoon Sim" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by<!-- --> <strong><a href="https://twitter.com/trainto" target="_blank" rel="noopener noreferrer">Hakjoon Sim</a></strong> <!-- -->who lives Seoul. Like programming and doing nothing.</p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/docker-mongodb-replicaset/">← <!-- -->Docker - Setting up a MongoDB Replica Set with Docker</a></li><li><a rel="next" href="/blog-renewal-with-gatsby/">Blog renewal with Gatsby<!-- --> →</a></li></ul></nav></div></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-73310674-3', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/nginx-nodejs/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-d367110d0bccd7e4734e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3fdf84ee86a6f94ab86c.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-f1759fb7829d79ccb3b9.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-6c3d6ca8135df7e285a2.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-6c3d6ca8135df7e285a2.js" async=""></script><script src="/1741fef513eed36a9117166ed65840855fa4f054-0b7035362f98cda5b260.js" async=""></script><script src="/commons-5650f931b83acdae3c7a.js" async=""></script><script src="/styles-c2fe8482057191dca484.js" async=""></script><script src="/app-d367110d0bccd7e4734e.js" async=""></script><script src="/framework-5fc6169171e885c3b522.js" async=""></script><script src="/webpack-runtime-f20445e34dc26cab1fc4.js" async=""></script></body></html>