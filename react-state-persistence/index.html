<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.3f653423939c23126c5c.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono,monospace;font-size:1em;line-height:1.5em;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#363636}:not(pre)>code[class*=language-]{white-space:normal;border-radius:.2em;padding:.1em}pre[class*=language-]{overflow:auto;position:relative;margin:.5em 0;padding:1.25em 1em}.language-css>code,.language-sass>code,.language-scss>code{color:#fd9170}[class*=language-] .namespace{opacity:.7}.token.atrule{color:#c792ea}.token.attr-name{color:#ffcb6b}.token.attr-value,.token.attribute{color:#c3e88d}.token.boolean{color:#c792ea}.token.builtin{color:#ffcb6b}.token.cdata,.token.char{color:#80cbc4}.token.class{color:#ffcb6b}.token.class-name,.token.color{color:#f2ff00}.token.comment{color:#546e7a}.token.constant{color:#c792ea}.token.deleted{color:#f07178}.token.doctype{color:#546e7a}.token.entity{color:#f07178}.token.function{color:#c792ea}.token.hexcode{color:#f2ff00}.token.id,.token.important{color:#c792ea;font-weight:700}.token.inserted{color:#80cbc4}.token.keyword{color:#c792ea;font-style:italic}.token.number{color:#fd9170}.token.operator{color:#89ddff}.token.prolog{color:#546e7a}.token.property{color:#80cbc4}.token.pseudo-class,.token.pseudo-element{color:#c3e88d}.token.punctuation{color:#89ddff}.token.regex{color:#f2ff00}.token.selector{color:#f07178}.token.string{color:#c3e88d}.token.symbol{color:#c792ea}.token.tag,.token.unit{color:#f07178}.token.url{color:#fd9170}.token.variable{color:#f07178}.border-responsive{border-bottom:1px solid hsla(0,0%,100%,.3)}@media (min-width:768px){.border-responsive{border-bottom:none;border-right:1px solid hsla(0,0%,100%,.3)}}section{padding-top:1rem}pre{border-radius:15px;font-size:.9rem!important}blockquote{font-style:italic;padding-left:1rem;border-left:3px solid #e31b6d;opacity:.8}article header h1{color:#fff}section h1,section h2,section h3,section h4,section h5,section h6{margin-top:3rem!important;margin-bottom:1.5rem!important;color:#fff}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Trainto.log()" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=9074198e5278012ba75f6b2cd64df7fa" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#e31b6d"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=9074198e5278012ba75f6b2cd64df7fa"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=9074198e5278012ba75f6b2cd64df7fa"/><title data-react-helmet="true">React - custom hook for persisting state (usePersistedState) | Trainto.log()</title><link data-react-helmet="true" rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Noto+Sans&amp;display=swap" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="From time to time, we need to preserve the state in our React app. This post will show you how to acheive it using just simple React custom hook. Let’s start…"/><meta data-react-helmet="true" property="og:title" content="React - custom hook for persisting state (usePersistedState)"/><meta data-react-helmet="true" property="og:description" content="From time to time, we need to preserve the state in our React app. This post will show you how to acheive it using just simple React custom hook. Let’s start…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Hakjoon Sim"/><meta data-react-helmet="true" name="twitter:title" content="React - custom hook for persisting state (usePersistedState)"/><meta data-react-helmet="true" name="twitter:description" content="From time to time, we need to preserve the state in our React app. This post will show you how to acheive it using just simple React custom hook. Let’s start…"/><style data-react-helmet="true" type="text/css">
            body {
              background-color: #282c35;
              color: rgba(255, 255, 255, 0.88);
              font-family: 'Noto Sans', sans-serif;
            }

            a, a:hover {
              color: #e31b6d;
            }

            hr {
              background-color: rgba(255, 255, 255, 0.3);
            }
          </style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><script data-ad-client="ca-pub-6978978720477594" async="" type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link as="script" rel="preload" href="/webpack-runtime-0060a00b508f868f716b.js"/><link as="script" rel="preload" href="/framework-8e106872f6b5a32c4e3d.js"/><link as="script" rel="preload" href="/app-52b881e16630142b3400.js"/><link as="script" rel="preload" href="/styles-29147cbc04bbc833f6a0.js"/><link as="script" rel="preload" href="/commons-f81f0a1cd02f34d1e67c.js"/><link as="script" rel="preload" href="/1741fef513eed36a9117166ed65840855fa4f054-c8f65a5f33b6c526370c.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-cff08a7f9073d2e2a997.js"/><link as="fetch" rel="preload" href="/page-data/react-state-persistence/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/426816048.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="d-none d-xl-block fixed-top" style="top:100px;width:160px;height:600px"><span class="position-relative"><ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-6978978720477594" data-ad-slot="8329899743"></ins></span></div><div class="container py-3"><main><div class="row justify-content-center"><header class="col-12 col-md-8"><h3><a style="text-decoration:none" href="/">Trainto.log()</a></h3></header><div class="col-12 col-md-8 mt-3"><article><header><h1>React - custom hook for persisting state (usePersistedState)</h1><p>April 07, 2021</p></header><section><p>From time to time, we need to preserve the state in our React app. This post will show you how to acheive it using just simple React custom hook.</p>
<p>Let’s start with the code first. (Typescript)</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useCallback<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">PersistType</span> <span class="token operator">=</span> <span class="token string">'local'</span> <span class="token operator">|</span> <span class="token string">'session'</span>

<span class="token keyword">const</span> persist <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span> type<span class="token operator">:</span> PersistType <span class="token operator">=</span> <span class="token string">'local'</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> storage <span class="token operator">=</span> type <span class="token operator">===</span> <span class="token string">'session'</span> <span class="token operator">?</span> sessionStorage <span class="token operator">:</span> localStorage<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> loaded <span class="token operator">=</span> storage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loaded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>loaded<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> loaded<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  storage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> usePersistedState <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">unknown</span></span><span class="token operator">></span><span class="token punctuation">(</span>
  value<span class="token operator">:</span> <span class="token constant">S</span><span class="token punctuation">,</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> PersistType <span class="token operator">=</span> <span class="token string">'local'</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">S</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newValue<span class="token operator">:</span> <span class="token constant">S</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">]</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> saved <span class="token operator">=</span> <span class="token function">persist</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>saved <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setState</span><span class="token punctuation">(</span>saved<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> type<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> setPersistedState <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>newValue<span class="token operator">:</span> React<span class="token punctuation">.</span>SetStateAction<span class="token operator">&lt;</span><span class="token constant">S</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setState</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">persist</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>key<span class="token punctuation">,</span> type<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setPersistedState<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> usePersistedState<span class="token punctuation">;</span></code></pre></div>
<br />
<h3>Helper function to save/load data from storage</h3>
<p>First a function called <em><code class="language-text">persist</code></em> created. This function takes 3 parameters like <em>key</em>, <em>value</em> and <em>type</em>(sessionStorage or localStorage). If given <em>value</em> parameter is undefined, it will load saved data using given key, and returns object parsed.</p>
<h3>Custom hook</h3>
<p>Next a custom hook called <em><code class="language-text">useStatedPersist</code></em> defined. In this custom hook, just common React state will be declared, and <em>useEffect</em> hook will fetch the data saved in local storage or session storage depends on the given <em>type</em> parameter.</p>
<p>And <em>setPersistedState</em> function, which is wrapped by <em>useCallback</em>, is for changing state and persisting from components using this custom hook.</p>
<p>Finally this custom hook will return [state, setPersistedState].</p>
<br />
<h3>Example</h3>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> usePersistedState <span class="token keyword">from</span> <span class="token string">'somewhere usePersistedState defined'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// You can use it just like normal useState just except more parameters</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">usePersistedState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// This state will be persisted only during the session</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>countNameChanged<span class="token punctuation">,</span> setCountNameChanged<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">usePersistedState</span><span class="token punctuation">(</span>
    <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">'coutNameChanged'</span><span class="token punctuation">,</span>
    <span class="token string">'session'</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h1<span class="token operator">></span>Name<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&lt;</span>small<span class="token operator">></span>Test <span class="token keyword">for</span> state persistence<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">></span>
      <span class="token operator">&lt;</span>h3<span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">"text"</span>
          value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setCountNameChanged</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token operator">=></span> prev <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Name<span class="token punctuation">;</span></code></pre></div>
<br />
<p>You might think this example is a bit weired. 😅 But it will be enough to show how it works. The <em>name</em> will be stored in localStorage, and <em>countNameChanged</em> will be persisted in sessionStorage(I don’t want to explain difference between localStroage and sessionStorage here).</p>
<p>Thanks!!</p></section><br/><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6978978720477594" data-ad-slot="4364348128" data-ad-format="auto" data-full-width-responsive="true"></ins><hr class="my-4"/><footer><div><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDAQb/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAanfptN1PndBawj/AP/EABkQAAIDAQAAAAAAAAAAAAAAAAECAAMSEf/aAAgBAQABBQK7XAtlSywDCZM6IWJZiddLT//EABURAQEAAAAAAAAAAAAAAAAAACBB/9oACAEDAQE/AYP/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAABAwQDAAAAAAAAAAAAAAABAAIREBIhQTFhcf/aAAgBAQAGPwINbtXF0jYpBOV7QHtRPCyv/8QAGxABAAIDAQEAAAAAAAAAAAAAAQAhETFBEFH/2gAIAQEAAT8hXQ9/IIs/hiw4QN2oXLdEQzl6m9MaRuNUqf/aAAwDAQACAAMAAAAQJy9//8QAFxEBAQEBAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxDJ01Vf/8QAGBEBAQADAAAAAAAAAAAAAAAAAQAQETH/2gAIAQIBAT8QF3g7AX//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhQTFRsfD/2gAIAQEAAT8Q8Sqi+AuGBMCj1lLm/jA0aGDHeeyhEdr+MRQg3ric1Arbsn1k/kNtmRgpCvM//9k=" alt="Hakjoon Sim" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/11d9aa0a042029a130f7ad2d42e2f7d0/99438/profile-pic.jpg 1x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/aba1d/profile-pic.jpg 1.5x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/11d9aa0a042029a130f7ad2d42e2f7d0/99438/profile-pic.jpg 1x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/aba1d/profile-pic.jpg 1.5x,
/static/11d9aa0a042029a130f7ad2d42e2f7d0/b315d/profile-pic.jpg 2x" src="/static/11d9aa0a042029a130f7ad2d42e2f7d0/99438/profile-pic.jpg" alt="Hakjoon Sim" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by<!-- --> <strong><a href="https://twitter.com/trainto" target="_blank" rel="noopener noreferrer">Hakjoon Sim</a></strong> <!-- -->who lives Seoul. Like programming and doing nothing.</p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog-renewal-with-gatsby/">← <!-- -->Blog renewal with Gatsby</a></li><li></li></ul></nav></div></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-73310674-3', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/react-state-persistence/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-313048b0ecb09e0d3199.js"],"app":["/app-52b881e16630142b3400.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0eafda30a4f940486c51.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-49ab06ec2a9c59caba86.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-cff08a7f9073d2e2a997.js"]};/*]]>*/</script><script src="/polyfill-313048b0ecb09e0d3199.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-cff08a7f9073d2e2a997.js" async=""></script><script src="/1741fef513eed36a9117166ed65840855fa4f054-c8f65a5f33b6c526370c.js" async=""></script><script src="/commons-f81f0a1cd02f34d1e67c.js" async=""></script><script src="/styles-29147cbc04bbc833f6a0.js" async=""></script><script src="/app-52b881e16630142b3400.js" async=""></script><script src="/framework-8e106872f6b5a32c4e3d.js" async=""></script><script src="/webpack-runtime-0060a00b508f868f716b.js" async=""></script></body></html>